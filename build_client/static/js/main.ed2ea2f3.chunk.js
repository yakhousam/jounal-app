(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),o=n.n(c),u=(n(12),n(1)),s=n.n(u),i=n(3),l=n(2);function f(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],o=n[1];Object(a.useEffect)(function(){function t(){return(t=Object(i.a)(s.a.mark(function t(){var n,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.userId){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,console.log("note list useeffect = ",e.query),t.next=6,fetch("api/getListeNotes/".concat(e.query||""));case 6:return n=t.sent,t.next=9,n.json();case 9:a=t.sent,o(a),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),console.error(t.t0);case 16:case"end":return t.stop()}},t,null,[[2,13]])}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[e.updateNotes,e.userId,e.query]);var u=c.map(function(t){return r.a.createElement("div",{className:"note-item",key:t._id,onClick:function(){return e.onClick(t._id)}},r.a.createElement("h2",null,t.title),r.a.createElement("p",null,t.text))}).reverse();return r.a.createElement("div",{className:"note-list"},u)}function p(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)([]),f=Object(l.a)(u,2),p=f[0],m=f[1];Object(a.useEffect)(function(){(function(){var t=Object(i.a)(s.a.mark(function t(){var n,a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.userId){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,fetch("api/getNotesTitles");case 4:return n=t.sent,t.next=7,n.json();case 7:a=t.sent,r=a.map(function(e){return e.title}),o(r);case 10:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}})()()},[e.updateNotes]);return r.a.createElement("div",{className:"search"},r.a.createElement("form",{onSubmit:function(t){if(t.preventDefault(),p){var n="?title=".concat(p);e.setNoteListQuery(n),m("")}}},r.a.createElement("input",{list:"list-titles",placeholder:"Search Entries",value:p,onChange:function(e){m(e.target.value)}}),r.a.createElement("datalist",{id:"list-titles"},c.map(function(e,t){return r.a.createElement("option",{key:t,value:e})})),r.a.createElement("input",{type:"submit",value:"Search"})))}function m(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),c=n[0],o=n[1];Object(a.useEffect)(function(){(function(){var t=Object(i.a)(s.a.mark(function t(){var n,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.noteId){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,fetch("api/getNote/".concat(e.noteId));case 4:return n=t.sent,t.next=7,n.json();case 7:a=t.sent,o(a);case 9:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}})()()},[e.updateNotes,e.noteId]);var u=function(){var t=Object(i.a)(s.a.mark(function t(n){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,fetch("api/deleteNote/".concat(n));case 4:return a=t.sent,t.next=7,a.json();case 7:t.sent.noteId===n&&(o(null),e.refrech());case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(i.a)(s.a.mark(function t(n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.updateOneNote({id:n,text:c.text,title:c.title});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return c&&r.a.createElement("div",{className:"note-display"},r.a.createElement("h1",null,c.title),r.a.createElement("p",null,c.text),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return f(e.noteId)}},"edit"),r.a.createElement("button",{onClick:function(){return u(e.noteId)}},"delete")))||r.a.createElement("div",{className:"note-display"})}var d=function(e){return r.a.createElement("select",{onChange:function(t){var n=t.target.value?"?date=".concat(t.target.value):"";e.setNoteListQuery(n)}},r.a.createElement("option",{value:"month",defaultValue:!0},"This month"),r.a.createElement("option",{value:"day"},"Today"),r.a.createElement("option",{value:""},"All"))};function v(e){return r.a.createElement("div",{className:"nav"},r.a.createElement(d,{setNoteListQuery:e.setNoteListQuery}),r.a.createElement("h1",null,"Journey"),r.a.createElement("h2",null,e.username),r.a.createElement("a",{href:"/logout"},"Logout"))}function b(e){return r.a.createElement("div",{className:"tool-bar"},r.a.createElement("button",{onClick:function(){return e.newNote()}}))}var h=n(4);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var j=function(e){var t=Object(a.useState)({title:e.title||"",text:e.text||""}),n=Object(l.a)(t,2),c=n[0],o=n[1],u=function(){var t=Object(i.a)(s.a.mark(function t(){var n,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("api/addNote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:c.title,text:c.text})});case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,o({title:"",text:""}),e.closeNewNote(a.noteId);case 8:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),f=function(){var t=Object(i.a)(s.a.mark(function t(){var n,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("api/updateNote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({noteId:e.noteId,title:c.title,text:c.text})});case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,o({title:"",text:""}),e.closeNewNote(a.noteId);case 8:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),p=function(e){var t=e.target,n=t.name,a=t.value;o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach(function(t){Object(h.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},c,Object(h.a)({},n,a)))};return r.a.createElement("div",{className:"new-note"},r.a.createElement("form",null,r.a.createElement("button",{className:"btn-close",onClick:function(){return e.closeNewNote()}},"close"),r.a.createElement("h1",null,"new note"),r.a.createElement("input",{name:"title",type:"text",placeholder:"title",value:c.title,onChange:p}),r.a.createElement("textarea",{name:"text",value:c.text,onChange:p}),!e.noteId&&r.a.createElement("input",{type:"button",value:"add note",onClick:u}),e.noteId&&r.a.createElement("input",{type:"button",value:"Update note",onClick:f})))};function E(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(),u=Object(l.a)(o,2),d=u[0],h=u[1],O=Object(a.useState)(""),E=Object(l.a)(O,2),y=E[0],x=E[1],N=Object(a.useState)(),w=Object(l.a)(N,2),k=w[0],g=w[1],S=Object(a.useState)(),I=Object(l.a)(S,2),C=I[0],P=I[1],L=Object(a.useState)(),T=Object(l.a)(L,2),Q=T[0],D=T[1],J=Object(a.useState)(!1),q=Object(l.a)(J,2),B=q[0],U=q[1],W=Object(a.useState)(!1),_=Object(l.a)(W,2),A=_[0],V=_[1];Object(a.useEffect)(function(){(function(){var e=Object(i.a)(s.a.mark(function e(){var t,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/getUserInfos");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n.username);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[]);var $=function(){V(!A)},z=function(e){x(e)};return r.a.createElement("div",null,r.a.createElement(v,{username:n,setNoteListQuery:z}),r.a.createElement("div",{className:"container"},r.a.createElement(b,{newNote:function(){U(!0)},showNewNote:B}),r.a.createElement("div",{className:"note-list"},r.a.createElement(p,{updateNotes:A,setNoteListQuery:z}),r.a.createElement(f,{onClick:function(e){h(e)},updateNotes:A,query:y})),r.a.createElement(m,{className:"display-note",noteId:d,refrech:$,updateOneNote:function(e){var t=e.id,n=e.text,a=e.title;t&&(g(t),P(n),D(a),U(!0),$())},updateNotes:A}),B&&r.a.createElement(j,{closeNewNote:function(e){U(!1),g(null),P(null),D(null),e&&(h(e),$())},noteId:k,text:C,title:Q})))}var y=function(){return r.a.createElement(E,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},7:function(e,t,n){e.exports=n(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.ed2ea2f3.chunk.js.map